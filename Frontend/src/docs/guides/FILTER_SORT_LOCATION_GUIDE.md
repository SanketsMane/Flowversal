# ğŸ“ Filter & Sort Location Guide

## ğŸ¯ Where to Find Filter & Sort Dropdowns

The **AdvancedFilters** and **AdvancedSort** components are displayed in the **Projects Board View**.

---

## ğŸ“‚ Navigation Path

### Step-by-Step:

1. **Open the App** â†’ You'll see the main navigation
2. **Click "Projects"** in the left sidebar (Folder icon)
3. **Select a Project** from the dropdown (e.g., "Flowversal Dashboard")
4. **Select a Board** from the dropdown (e.g., "Sprint Board")
5. **Look at the top-right toolbar** â†’ You'll see the **Filter** and **Sort** buttons!

---

## ğŸ¨ Visual Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Projects                                                    [+ Team]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ğŸ“ Project: Flowversal Dashboard â–¼                                     â”‚
â”‚  ğŸ“‹ Board: Sprint Board â–¼                                               â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ” Search...        [ğŸ“Š Filter] [â¬†ï¸ Sort]    [ğŸ‘¥] [ğŸ“‹] [ğŸ“ˆ]     â”‚ â”‚  â† HERE!
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Active] [Backlogs] [Completed]                                  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  Backlog    â”‚  To do    â”‚  In Progress  â”‚  Review  â”‚  Done      â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€      â”‚  â”‚
â”‚  â”‚  [Task 1]   â”‚  [Task 3] â”‚  [Task 5]     â”‚  [Task]  â”‚  [Task]    â”‚  â”‚
â”‚  â”‚  [Task 2]   â”‚  [Task 4] â”‚  [Task 6]     â”‚          â”‚            â”‚  â”‚
â”‚  â”‚             â”‚           â”‚               â”‚          â”‚            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Exact Location in UI

### Board Header Toolbar (Top-Right):

The filters appear in this order from left to right:

```
[ğŸ” Search Box]  [ğŸ“Š Filter]  [â¬†ï¸ Sort]  [List]  [Kanban]  [Chart]
                     â†‘           â†‘
                     |           |
              Click here!   Click here!
```

### When You Click "Filter":

```
                    [ğŸ“Š Filter 3]  â† Button with active count
                         â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ğŸ” Filters          [3]    Ã—  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ğŸ‘¥ Members                     â”‚
        â”‚   â˜‘ ğŸ‘¤ justin@gmail.com       â”‚
        â”‚   â˜ ğŸ‘¤ Sarah Johnson          â”‚
        â”‚   â˜ ğŸ‘¤ Mike Chen              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ âœ… Status                      â”‚
        â”‚   â˜‘ In Progress               â”‚
        â”‚   â˜ Review                    â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ğŸš© Priority                    â”‚
        â”‚   â˜‘ ğŸ”´ Critical               â”‚
        â”‚   â˜‘ ğŸŸ  High                   â”‚
        â”‚   â˜ ğŸŸ¡ Medium                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ğŸ·ï¸ Labels                      â”‚
        â”‚   â˜‘ Feature                   â”‚
        â”‚   â˜ Bug                       â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ ğŸ“… Due Date                    â”‚
        â”‚   â—‰ All                       â”‚
        â”‚   â—‹ Overdue                   â”‚
        â”‚   â—‹ This Week                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [Clear All]        [Apply]    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### When You Click "Sort":

```
                         [â¬†ï¸ Sort]  â† Button
                             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â¬†ï¸ Sort By                     â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸš©] Priority              âœ“  â”‚ â† Selected
        â”‚      Critical â†’ Low            â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ“…] Due Date                  â”‚
        â”‚      Earliest first            â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ”¤] Task Name                 â”‚
        â”‚      Alphabetical A â†’ Z        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ“‹] Status                    â”‚
        â”‚      Grouped by stage          â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ‘¤] Assignee                  â”‚
        â”‚      Grouped by member         â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ•] Created Date              â”‚
        â”‚      Newest first              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [ğŸ•‘] Last Updated              â”‚
        â”‚      Recently modified         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure

### Component Files:

| File | Location | Purpose |
|------|----------|---------|
| **AdvancedFilters.tsx** | `/components/AdvancedFilters.tsx` | Filter dropdown UI & logic |
| **AdvancedSort.tsx** | `/components/AdvancedSort.tsx` | Sort dropdown UI & logic |
| **ProjectsEnhanced.tsx** | `/components/ProjectsEnhanced.tsx` | Main board view (renders both) |

### Where They're Imported:

**In `/components/ProjectsEnhanced.tsx` (Lines 27-28):**

```tsx
import { AdvancedFilters, FilterOptions } from './AdvancedFilters';
import { AdvancedSort, SortOption } from './AdvancedSort';
```

### Where They're Rendered:

**In `/components/ProjectsEnhanced.tsx` (Lines 873-936):**

```tsx
{/* Filter Button - Wrapped in relative container */}
<div className="relative">
  <button onClick={() => setShowFilters(!showFilters)}>
    <Filter className="w-4 h-4" />
    Filter
    {activeCount > 0 && <span className="badge">{activeCount}</span>}
  </button>

  {/* Advanced Filters Dropdown */}
  <AdvancedFilters
    isOpen={showFilters}
    onClose={() => setShowFilters(false)}
    filters={advancedFilters}
    onFiltersChange={setAdvancedFilters}
    availableMembers={[...]}
    availableStatuses={['Backlog', 'To do', 'In Progress', ...]}
    availablePriorities={['Critical', 'High', 'Medium', 'Low']}
    availableLabels={['Feature', 'Bug', 'Enhancement', ...]}
  />
</div>

{/* Sort Button - Wrapped in relative container */}
<div className="relative">
  <button onClick={() => setShowSort(!showSort)}>
    <SortAsc className="w-4 h-4" />
    Sort
  </button>

  {/* Advanced Sort Dropdown */}
  <AdvancedSort
    isOpen={showSort}
    onClose={() => setShowSort(false)}
    currentSort={sortBy}
    onSortChange={setSortBy}
  />
</div>
```

---

## ğŸ¬ Testing Instructions

### Test Filter:

**Step 1: Navigate to Board**
```
App â†’ Sidebar â†’ Projects â†’ Select Project â†’ Select Board
```

**Step 2: Click Filter**
```
Top-right toolbar â†’ Click "Filter" button
```

**Step 3: Verify Dropdown**
```
âœ… Dropdown appears below button
âœ… Shows 5 filter sections
âœ… Members show avatars + names
âœ… Priority shows color-coded flags
âœ… Labels section visible
âœ… Due Date section visible
```

**Step 4: Apply Filter**
```
Check "High" priority â†’ Click Apply
âœ… Board shows only high-priority tasks
âœ… Button shows "Filter 1" badge
âœ… Button turns cyan
```

### Test Sort:

**Step 1: Click Sort**
```
Top-right toolbar â†’ Click "Sort" button
```

**Step 2: Verify Dropdown**
```
âœ… Dropdown appears below button
âœ… Shows 7 sort options
âœ… Each option has gradient icon
âœ… Current selection has checkmark
```

**Step 3: Apply Sort**
```
Click "Priority" option
âœ… Dropdown closes
âœ… Tasks reorder by priority
âœ… Checkmark appears on "Priority"
```

---

## ğŸ”§ State Management

### Filter State (Line 261):

```tsx
const [advancedFilters, setAdvancedFilters] = useState<FilterOptions>({
  members: [],        // Array of user IDs
  statuses: [],       // Array of status strings
  priorities: [],     // Array of priority strings
  labels: [],         // Array of label strings
  dueDateRange: 'all' // 'all' | 'overdue' | 'today' | 'week' | 'month' | 'no-date'
});
```

### Sort State (Line 258):

```tsx
const [sortBy, setSortBy] = useState<SortOption>('dueDate');
// Options: 'priority' | 'dueDate' | 'name' | 'status' | 'assignee' | 'createdAt' | 'updated'
```

### UI State:

```tsx
const [showFilters, setShowFilters] = useState(false);  // Line 253
const [showSort, setShowSort] = useState(false);        // Line 254
```

---

## ğŸ¯ When Filters Are Applied

### Filter Logic (Lines 474-517):

```tsx
// Apply advanced filters
if (advancedFilters.members.length > 0) {
  filtered = filtered.filter(t => 
    t.assignedTo.some(user => advancedFilters.members.includes(user.id))
  );
}

if (advancedFilters.statuses.length > 0) {
  filtered = filtered.filter(t => advancedFilters.statuses.includes(t.status));
}

if (advancedFilters.priorities.length > 0) {
  filtered = filtered.filter(t => advancedFilters.priorities.includes(t.priority));
}

if (advancedFilters.labels.length > 0) {
  filtered = filtered.filter(t => 
    t.labels && t.labels.some(label => advancedFilters.labels.includes(label))
  );
}

if (advancedFilters.dueDateRange !== 'all') {
  // Filter by due date range (overdue, today, week, month, no-date)
}
```

### Sort Logic (Lines 540-565):

```tsx
filtered.sort((a, b) => {
  switch (sortBy) {
    case 'priority':
      const priorityOrder = { 'Critical': 0, 'High': 1, 'Medium': 2, 'Low': 3 };
      return priorityOrder[a.priority] - priorityOrder[b.priority];
    
    case 'dueDate':
      return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime();
    
    case 'name':
      return a.name.localeCompare(b.name);
    
    case 'status':
      return a.status.localeCompare(b.status);
    
    case 'assignee':
      return a.assignedTo[0]?.name.localeCompare(b.assignedTo[0]?.name);
    
    case 'createdAt':
      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();
    
    case 'updated':
      return new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime();
  }
});
```

---

## ğŸ¨ Styling & Theme

Both components support **light and dark themes** via `useTheme()`:

### Dark Mode:
```tsx
bgMain: 'bg-[#0E0E1F]'        // Dark navy background
textPrimary: 'text-white'      // White text
borderColor: 'border-white/10' // Subtle white border
hoverBg: 'hover:bg-white/5'    // Subtle hover effect
```

### Light Mode:
```tsx
bgMain: 'bg-white'             // White background
textPrimary: 'text-gray-900'   // Dark text
borderColor: 'border-gray-200' // Gray border
hoverBg: 'hover:bg-gray-100'   // Gray hover effect
```

---

## âœ… Quick Reference

### To Find Filter & Sort:

1. âœ… **Route**: Projects page
2. âœ… **Location**: Board view (not list or chart view)
3. âœ… **Position**: Top-right toolbar, next to search bar
4. âœ… **Visibility**: Always visible when a board is selected
5. âœ… **View**: Kanban board layout

### Component Hierarchy:

```
App.tsx
  â””â”€â”€ ProjectsEnhanced.tsx (Main Projects component)
        â”œâ”€â”€ Board Header (Line ~850-940)
        â”‚     â”œâ”€â”€ Search Bar
        â”‚     â”œâ”€â”€ Filter Button + AdvancedFilters (Line 873-917)
        â”‚     â””â”€â”€ Sort Button + AdvancedSort (Line 919-936)
        â””â”€â”€ Board Content (Kanban columns)
```

---

## ğŸš€ Summary

**The Filter and Sort dropdowns are located in:**

ğŸ“ **Page**: Projects  
ğŸ“ **View**: Board (Kanban)  
ğŸ“ **Position**: Top-right toolbar  
ğŸ“ **Lines**: 873-936 in `/components/ProjectsEnhanced.tsx`  

**To access them:**

1. Click "Projects" in sidebar
2. Select any project
3. Select any board
4. Look for the toolbar at the top
5. Click "Filter" or "Sort" buttons

**They appear when:**

âœ… A board is selected  
âœ… You're in board view (not My Tasks)  
âœ… The board has tasks  

**They work with:**

âœ… All board tabs (Active, Backlogs, Completed)  
âœ… All view modes (List, Kanban, Chart)  
âœ… Both light and dark themes  
âœ… All screen sizes (responsive)  

---

## ğŸ‰ Everything is Working!

The Filter and Sort systems are **fully functional** and ready to use in the **Projects Board View**! ğŸš€âœ¨
